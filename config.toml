# ChainRank Event Indexer Configuration
# ═══════════════════════════════════════════════════════════════════════════════

# Time window for fetching events
year = 2025
month = 12

# ═══════════════════════════════════════════════════════════════════════════════
# SEED CONTRACTS
# ═══════════════════════════════════════════════════════════════════════════════

# USDC Token contract
[seed_contracts.usdc]
ethereum = "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"

# USDT Token contract
[seed_contracts.usdt]
ethereum = "0xdAC17F958D2ee523a2206206994597C13D831ec7"

# WBTC Token contract
[seed_contracts.wbtc]
ethereum = "0x2260FAC5E5542a773Aa44fBCfeDf7C193bc2C599"

# DAI Token contract
[seed_contracts.dai]
ethereum = "0x6B175474E89094C44Da98b954EedeAC495271d0F"

# WETH Token contract
[seed_contracts.weth]
ethereum = "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2"

# Aave V3 Pool contract
[seed_contracts.aave]
ethereum = "0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2"

# Compound V2 cTokens (main markets)
[seed_contracts.compound_ceth]
ethereum = "0x4Ddc2D193948926D02f9B1fE9e1daa0718270ED5"

[seed_contracts.compound_cdai]
ethereum = "0x5d3a536E4D6DbD6114cc1Ead35777bAB948E3643"

[seed_contracts.compound_cusdc]
ethereum = "0x39AA39c021dfbaE8faC545936693aC917d5E7563"

[seed_contracts.compound_cusdt]
ethereum = "0xf650C3d88D12dB855b8bf7D11Be6C55A4e07dCC9"

[seed_contracts.compound_cwbtc]
ethereum = "0xccF4429DB6322D5C611ee964527D42E5d685DD6a"

# Compound Comptroller (for COMP distribution events)
[seed_contracts.compound_comptroller]
ethereum = "0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B"

# Morpho Blue (Lending)
[seed_contracts.morpho_blue]
ethereum = "0xBBBBBbbBBb9cC5e90e3b3Af64bdAF62C37EEFFCb"

# Spark Protocol (Lending - MakerDAO ecosystem, Aave V3 fork)
[seed_contracts.spark]
ethereum = "0xC13e21B648A5Ee794902342038FF3aDAB66BE987"

# Fluid Liquidity (Lending + DEX)
[seed_contracts.fluid]
ethereum = "0x52Aa899454998Be5b000Ad077a46Bbe360F4e497"

# Yearn v3 Vaults (Yield Aggregator)
[seed_contracts.yearn_usdc]
ethereum = "0xBe53A109B494E5c9f97b9Cd39Fe969BE68BF6204"

[seed_contracts.yearn_weth]
ethereum = "0xc56413869c6CDf96496f2b1eF801fEDBdFA7dDB0"

[seed_contracts.yearn_dai]
ethereum = "0x028eC7330ff87667b6dfb0D94b954c820195336c"

# DEX Aggregators
[seed_contracts.oneinch]
ethereum = "0x1111111254EEB25477B68fb85Ed929f73A960582"

[seed_contracts.zeroex]
ethereum = "0xDef1C0ded9bec7F1a1670819833240f027b25EfF"

[seed_contracts.paraswap]
ethereum = "0xDEF171Fe48CF0115B1d80b88dc8eAB59176FEe57"

[seed_contracts.cowswap]
ethereum = "0x9008D19f58AAbD9eD0D60971565AA8510560ab41"

# Uniswap V3 Pools (top liquidity pools)
# USDC/ETH 0.05%
[seed_contracts.uniswap_v3_usdc_eth]
ethereum = "0x88e6A0c2dDD26FEEb64F039a2c41296FcB3f5640"

# WBTC/ETH 0.3%
[seed_contracts.uniswap_v3_wbtc_eth]
ethereum = "0xCBCdF9626bC03E24f779434178A73a0B4bad62eD"

# USDC/USDT 0.01%
[seed_contracts.uniswap_v3_usdc_usdt]
ethereum = "0x3416cF6C708Da44DB2624D63ea0AAef7113527C6"

# DAI/USDC 0.01%
[seed_contracts.uniswap_v3_dai_usdc]
ethereum = "0x5777d92f208679DB4b9778590Fa3CAB3aC9e2168"

# WETH/USDT 0.05%
[seed_contracts.uniswap_v3_weth_usdt]
ethereum = "0x11b815efB8f581194ae79006d24E0d814B7697F6"

# ═══════════════════════════════════════════════════════════════════════════════
# STAKING PROTOCOLS
# ═══════════════════════════════════════════════════════════════════════════════

# Lido - Liquid Staking (~$25B+ TVL)
[seed_contracts.lido_steth]
ethereum = "0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84"

[seed_contracts.lido_wsteth]
ethereum = "0x7f39C581F595B53c5cb19bD0b3f8dA6c935E2Ca0"

[seed_contracts.lido_withdrawal_queue]
ethereum = "0x889edC2eDab5f40e902b864aD4d7AdE8E412F9B1"

# EigenLayer - Restaking Protocol (~$15B+ TVL)
[seed_contracts.eigenlayer_strategy_manager]
ethereum = "0x858646372CC42E1A627fcE94aa7A7033e7CF075A"

[seed_contracts.eigenlayer_delegation_manager]
ethereum = "0x39053D51B77DC0d36036Fc1fCc8Cb819df8Ef37A"



# Rocket Pool - Decentralized Liquid Staking (~$3B+ TVL)
[seed_contracts.rocketpool_reth]
ethereum = "0xae78736Cd615f374D3085123A210448E74Fc6393"

[seed_contracts.rocketpool_deposit_pool]
ethereum = "0xDD3f50F8A6CafbE9b31a427582963f465E745AF8"

# ether.fi - Liquid Restaking (~$6B+ TVL)
[seed_contracts.etherfi_eeth]
ethereum = "0x35fA164735182de50811E8e2E824cFb9B6118ac2"

[seed_contracts.etherfi_weeth]
ethereum = "0xCd5fE23C85820F7B72D0926FC9b05b43E359b7ee"

[seed_contracts.etherfi_liquidity_pool]
ethereum = "0x308861A430be4cce5502d0A12724771Fc6DaF216"

[seed_contracts.etherfi_withdraw_request_nft]
ethereum = "0x7d5706f6ef3F89B3951E23e557CDFBC3239D4E2c"

# Frax Finance - Liquid Staking (~$1B+ TVL)
[seed_contracts.frax_frxeth]
ethereum = "0x5E8422345238F34275888049021821E8E08CAa1f"

[seed_contracts.frax_sfrxeth]
ethereum = "0xac3E018457B222d93114458476f3E3416Abbe38F"

[seed_contracts.frax_eth_minter]
ethereum = "0xbAFA44EFE7901E04E39Dad13167D089C559c1138"

# ═══════════════════════════════════════════════════════════════════════════════
# STAKING AGGREGATORS / LIQUID RESTAKING PROTOCOLS
# ═══════════════════════════════════════════════════════════════════════════════

# Renzo - Liquid Restaking (~$3B TVL)
[seed_contracts.renzo_restake_manager]
ethereum = "0x74a09653A083691711cF8215a6ab074BB4e99ef5"

[seed_contracts.renzo_ezeth]
ethereum = "0xbf5495Efe5DB9ce00f80364C8B423567e58d2110"

# Kelp DAO - Multi-LST Restaking (~$2B TVL)
[seed_contracts.kelp_rseth]
ethereum = "0xA1290d69c65A6Fe4DF752f95823fae25cB99e5A7"

# Puffer Finance - Native Restaking (~$1.5B TVL)
[seed_contracts.puffer_vault]
ethereum = "0xD9A442856C234a39a81a089C06451EBAa4306a72"

[seed_contracts.puffer_pufeth]
ethereum = "0xD9A442856C234a39a81a089C06451EBAa4306a72"

# Origin OETH - LST Auto-Compounder (~$400M TVL)
[seed_contracts.origin_oeth_vault]
ethereum = "0x39254033945AA2E4809Cc2977E7087BEE48bd7Ab"

[seed_contracts.origin_oeth]
ethereum = "0x856c4Efb76C1D1AE02e20CEB03A2A6a08b0b8dC3"

# ═══════════════════════════════════════════════════════════════════════════════
# ALLOWLISTED EVENTS
# ═══════════════════════════════════════════════════════════════════════════════

[allowlisted_events]
aave = [
    "Supply",
    "Withdraw",
    "Borrow",
    "Repay",
    "LiquidationCall"
]
compound_ceth = [
    "Mint",
    "Redeem",
    "CompoundBorrow",
    "RepayBorrow",
    "LiquidateBorrow"
]
compound_cdai = [
    "Mint",
    "Redeem",
    "CompoundBorrow",
    "RepayBorrow",
    "LiquidateBorrow"
]
compound_cusdc = [
    "Mint",
    "Redeem",
    "CompoundBorrow",
    "RepayBorrow",
    "LiquidateBorrow"
]
compound_cusdt = [
    "Mint",
    "Redeem",
    "CompoundBorrow",
    "RepayBorrow",
    "LiquidateBorrow"
]
compound_cwbtc = [
    "Mint",
    "Redeem",
    "CompoundBorrow",
    "RepayBorrow",
    "LiquidateBorrow"
]
compound_comptroller = [
    "DistributedSupplierComp",
    "DistributedBorrowerComp"
]
morpho_blue = [
    "MorphoSupply",
    "MorphoWithdraw",
    "MorphoBorrow",
    "MorphoRepay",
    "MorphoLiquidate"
]
spark = [
    "Supply",
    "Withdraw",
    "Borrow",
    "Repay",
    "LiquidationCall"
]
fluid = [
    "FluidOperate"
]
yearn_usdc = [
    "YearnDeposit",
    "YearnWithdraw"
]
yearn_weth = [
    "YearnDeposit",
    "YearnWithdraw"
]
yearn_dai = [
    "YearnDeposit",
    "YearnWithdraw"
]
oneinch = [
    "OneInchSwapped"
]
zeroex = [
    "ZeroExTransformedERC20"
]
paraswap = [
    "ParaswapSwapped"
]
cowswap = [
    "CowTrade"
]
usdc = [
    "Transfer"
]
usdt = [
    "Transfer"
]
wbtc = [
    "Transfer"
]
dai = [
    "Transfer"
]
weth = [
    "Transfer"
]
uniswap_v3_usdc_eth = [
    "UniswapV3Swap"
]
uniswap_v3_wbtc_eth = [
    "UniswapV3Swap"
]
uniswap_v3_usdc_usdt = [
    "UniswapV3Swap"
]
uniswap_v3_dai_usdc = [
    "UniswapV3Swap"
]
uniswap_v3_weth_usdt = [
    "UniswapV3Swap"
]

# Lido staking events
lido_steth = [
    "LidoSubmitted",
    "Transfer"
]
lido_wsteth = [
    "Transfer"
]
lido_withdrawal_queue = [
    "LidoWithdrawalRequested",
    "LidoWithdrawalClaimed"
]

# EigenLayer restaking events
eigenlayer_strategy_manager = [
    "EigenDeposit"
]
eigenlayer_delegation_manager = [
    "EigenOperatorSharesIncreased",
    "EigenOperatorSharesDecreased",
    "EigenStakerDelegated",
    "EigenStakerUndelegated"
]


# Rocket Pool staking events
rocketpool_reth = [
    "RocketTokensMinted",
    "RocketTokensBurned",
    "Transfer"
]
rocketpool_deposit_pool = [
    "RocketDepositReceived"
]

# ether.fi restaking events
etherfi_eeth = [
    "Transfer"
]
etherfi_weeth = [
    "Transfer"
]
etherfi_liquidity_pool = [
    "EtherFiDeposit",
    "EtherFiWithdraw"
]
etherfi_withdraw_request_nft = [
    "Transfer"
]

# Frax staking events
frax_frxeth = [
    "Transfer"
]
frax_sfrxeth = [
    "FraxDeposit",
    "FraxWithdraw"
]
frax_eth_minter = [
    "FraxETHSubmitted"
]

# Renzo restaking events
renzo_restake_manager = [
    "RenzoDeposit",
    "RenzoWithdraw"
]
renzo_ezeth = [
    "Transfer"
]

# Kelp DAO restaking events
kelp_rseth = [
    "Transfer"
]

# Puffer Finance restaking events
puffer_vault = [
    "PufferDeposit",
    "PufferWithdraw"
]
puffer_pufeth = [
    "Transfer"
]

# Origin OETH events
origin_oeth_vault = [
    "OriginDeposit",
    "OriginWithdraw",
    "OriginMint",
    "OriginRedeem"
]
origin_oeth = [
    "Transfer"
]

# ═══════════════════════════════════════════════════════════════════════════════
# OUTPUT CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

[output]
raw_folder = "raw"
file_format = "csv"

# ═══════════════════════════════════════════════════════════════════════════════
# INDEXER SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════

[indexer]
batch_size = 2000
max_retries = 3
retry_delay_seconds = 1
rate_limit_per_second = 10
parallel_batches = 10
save_interval_batches = 10

# ═══════════════════════════════════════════════════════════════════════════════
# TRUST CALCULATION WEIGHTS (per protocol)
# ═══════════════════════════════════════════════════════════════════════════════
# Formula: trust = max(0, log2(amount) * event_weight)

[trust_weights.aave]
# Positive trust signals (trust building)
Supply = 1.0                          # Baseline - capital commitment
Repay = 1.5                           # Highest trust - fulfilled debt obligation
LiquidationCall_liquidator = 1.2      # Maintains protocol health

# Neutral / context-dependent signals
Borrow = 0.4                          # Creates debt - trust depends on repayment
Withdraw = 0.3                        # Normal behavior, reduces commitment

# Negative trust signals (trust reducing)
LiquidationCall_liquidated = -1.5     # Failed position management

# Compound V2 trust weights (applied to all cToken markets)
[trust_weights.compound_ceth]
Mint = 1.0                            # Deposit ETH, receive cETH
RepayBorrow = 1.5                     # Fulfilled debt obligation
LiquidateBorrow_liquidator = 1.2      # Maintains protocol health
CompoundBorrow = 0.4                  # Creates debt
Redeem = 0.3                          # Withdraw funds
LiquidateBorrow_liquidated = -1.5     # Failed position management

[trust_weights.compound_cdai]
Mint = 1.0
RepayBorrow = 1.5
LiquidateBorrow_liquidator = 1.2
CompoundBorrow = 0.4
Redeem = 0.3
LiquidateBorrow_liquidated = -1.5

[trust_weights.compound_cusdc]
Mint = 1.0
RepayBorrow = 1.5
LiquidateBorrow_liquidator = 1.2
CompoundBorrow = 0.4
Redeem = 0.3
LiquidateBorrow_liquidated = -1.5

[trust_weights.compound_cusdt]
Mint = 1.0
RepayBorrow = 1.5
LiquidateBorrow_liquidator = 1.2
CompoundBorrow = 0.4
Redeem = 0.3
LiquidateBorrow_liquidated = -1.5

[trust_weights.compound_cwbtc]
Mint = 1.0
RepayBorrow = 1.5
LiquidateBorrow_liquidator = 1.2
CompoundBorrow = 0.4
Redeem = 0.3
LiquidateBorrow_liquidated = -1.5

[trust_weights.compound_comptroller]
DistributedSupplierComp = 0.5         # COMP rewards for supplying
DistributedBorrowerComp = 0.5         # COMP rewards for borrowing

# Morpho Blue trust weights
[trust_weights.morpho_blue]
MorphoSupply = 1.0                    # Deposit collateral
MorphoRepay = 1.5                     # Fulfilled debt obligation
MorphoLiquidate_liquidator = 1.2      # Maintains protocol health
MorphoBorrow = 0.4                    # Creates debt
MorphoWithdraw = 0.3                  # Withdraw funds
MorphoLiquidate_liquidated = -1.5     # Failed position management

# Spark Protocol trust weights (same as Aave V3)
[trust_weights.spark]
Supply = 1.0                          # Deposit collateral
Repay = 1.5                           # Fulfilled debt obligation
LiquidationCall_liquidator = 1.2      # Maintains protocol health
Borrow = 0.4                          # Creates debt
Withdraw = 0.3                        # Withdraw funds
LiquidationCall_liquidated = -1.5     # Failed position management

# Fluid Liquidity trust weights
[trust_weights.fluid]
FluidOperate_supply = 1.0             # Deposit assets
FluidOperate_withdraw = 0.3           # Withdraw assets
FluidOperate_repay = 1.5              # Repay debt
FluidOperate_borrow = 0.4             # Borrow assets

# Yearn v3 trust weights
[trust_weights.yearn_usdc]
YearnDeposit = 1.0                    # User deposits into vault
YearnWithdraw = 0.3                   # User withdraws from vault

[trust_weights.yearn_weth]
YearnDeposit = 1.0                    # User deposits into vault
YearnWithdraw = 0.3                   # User withdraws from vault

[trust_weights.yearn_dai]
YearnDeposit = 1.0                    # User deposits into vault
YearnWithdraw = 0.3                   # User withdraws from vault

# DEX Aggregator trust weights
[trust_weights.oneinch]
OneInchSwapped = 0.7                  # User swapped via 1inch

[trust_weights.zeroex]
ZeroExTransformedERC20 = 0.7          # User swapped via 0x

[trust_weights.paraswap]
ParaswapSwapped = 0.7                 # User swapped via Paraswap

[trust_weights.cowswap]
CowTrade = 0.7                        # User swapped via CoW Protocol

[trust_weights.usdc]
Transfer = 0.8                        # USDC transfer activity

[trust_weights.usdt]
Transfer = 0.8                        # USDT transfer activity

[trust_weights.wbtc]
Transfer = 0.9                        # WBTC transfer activity (higher value)

[trust_weights.dai]
Transfer = 0.8                        # DAI transfer activity

[trust_weights.weth]
Transfer = 0.8                        # WETH transfer activity

[trust_weights.uniswap_v3_usdc_eth]
UniswapV3Swap = 0.6                   # Swap on USDC/ETH pool

[trust_weights.uniswap_v3_wbtc_eth]
UniswapV3Swap = 0.6                   # Swap on WBTC/ETH pool

[trust_weights.uniswap_v3_usdc_usdt]
UniswapV3Swap = 0.6                   # Swap on USDC/USDT pool

[trust_weights.uniswap_v3_dai_usdc]
UniswapV3Swap = 0.6                   # Swap on DAI/USDC pool

[trust_weights.uniswap_v3_weth_usdt]
UniswapV3Swap = 0.6                   # Swap on WETH/USDT pool

# ═══════════════════════════════════════════════════════════════════════════════
# STAKING PROTOCOL TRUST WEIGHTS
# ═══════════════════════════════════════════════════════════════════════════════

# Lido - Liquid Staking
[trust_weights.lido_steth]
LidoSubmitted = 1.0                   # User stakes ETH
Transfer = 0.8                        # stETH transfer activity

[trust_weights.lido_wsteth]
Transfer = 0.8                        # wstETH transfer activity

[trust_weights.lido_withdrawal_queue]
LidoWithdrawalRequested = 0.4         # User requests withdrawal (reduces commitment)
LidoWithdrawalClaimed = 0.3           # User claims withdrawal

# EigenLayer - Restaking
[trust_weights.eigenlayer_strategy_manager]
EigenDeposit = 1.2                    # User restakes assets (higher trust - double commitment)

[trust_weights.eigenlayer_delegation_manager]
EigenOperatorSharesIncreased = 1.0    # Operator receives delegated shares
EigenOperatorSharesDecreased = 0.3    # Operator loses delegated shares
EigenStakerDelegated = 0.8            # User delegates to operator
EigenStakerUndelegated = 0.3          # User undelegates from operator



# Rocket Pool - Decentralized Staking
[trust_weights.rocketpool_reth]
RocketTokensMinted = 1.0              # User stakes ETH, receives rETH
RocketTokensBurned = 0.3              # User redeems rETH for ETH
Transfer = 0.8                        # rETH transfer activity

[trust_weights.rocketpool_deposit_pool]
RocketDepositReceived = 1.0           # User deposits ETH

# ether.fi - Liquid Restaking
[trust_weights.etherfi_eeth]
Transfer = 0.8                        # eETH transfer activity

[trust_weights.etherfi_weeth]
Transfer = 0.8                        # weETH transfer activity

[trust_weights.etherfi_liquidity_pool]
EtherFiDeposit = 1.2                  # User deposits ETH (restaking = higher trust)
EtherFiWithdraw = 0.3                 # User withdraws

[trust_weights.etherfi_withdraw_request_nft]
Transfer = 0.3                        # Withdrawal NFT transfer

# Frax Finance - Liquid Staking
[trust_weights.frax_frxeth]
Transfer = 0.8                        # frxETH transfer activity

[trust_weights.frax_sfrxeth]
FraxDeposit = 1.0                     # User deposits frxETH for sfrxETH (yield-bearing)
FraxWithdraw = 0.3                    # User withdraws from sfrxETH

[trust_weights.frax_eth_minter]
FraxETHSubmitted = 1.0                # User stakes ETH for frxETH

# ═══════════════════════════════════════════════════════════════════════════════
# STAKING AGGREGATOR TRUST WEIGHTS
# ═══════════════════════════════════════════════════════════════════════════════

# Renzo - Liquid Restaking
[trust_weights.renzo_restake_manager]
RenzoDeposit = 1.2                    # User deposits for restaking (higher trust)
RenzoWithdraw = 0.3                   # User withdraws

[trust_weights.renzo_ezeth]
Transfer = 0.8                        # ezETH transfer activity

# Kelp DAO - Multi-LST Restaking
[trust_weights.kelp_rseth]
Transfer = 0.8                        # rsETH transfer activity

# Puffer Finance - Native Restaking
[trust_weights.puffer_vault]
PufferDeposit = 1.2                   # User deposits for restaking
PufferWithdraw = 0.3                  # User withdraws

[trust_weights.puffer_pufeth]
Transfer = 0.8                        # pufETH transfer activity

# Origin OETH - LST Auto-Compounder
[trust_weights.origin_oeth_vault]
OriginDeposit = 1.0                   # User deposits LSTs
OriginWithdraw = 0.3                  # User withdraws
OriginMint = 1.0                      # OETH minted to user
OriginRedeem = 0.3                    # User redeems OETH

[trust_weights.origin_oeth]
Transfer = 0.8                        # OETH transfer activity

[trust_output]
trust_folder = "trust"
ens_verification_multiplier = 2.0
fc_verification_multiplier = 2.0
wrld_verification_multiplier = 2.0
